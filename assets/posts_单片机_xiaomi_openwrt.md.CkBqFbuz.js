import{_ as e,c as r,a0 as t,o}from"./chunks/framework.DADtiyJ8.js";const d=JSON.parse('{"title":"小米4a刷openert","description":"","frontmatter":{"title":"小米4a刷openert","hidemeta":true},"headers":[],"relativePath":"posts/单片机/xiaomi_openwrt.md","filePath":"posts/单片机/xiaomi_openwrt.md"}'),i={name:"posts/单片机/xiaomi_openwrt.md"};function n(s,a,l,p,h,m){return o(),r("div",null,a[0]||(a[0]=[t(`<h1 id="xiaomi4a百兆刷openwrt简介" tabindex="-1">xiaomi4A百兆刷openwrt简介 <a class="header-anchor" href="#xiaomi4a百兆刷openwrt简介" aria-label="Permalink to &quot;xiaomi4A百兆刷openwrt简介&quot;">​</a></h1><p>网上教程乱七八糟的, 这里整理一下, 最新的<a href="https://www.luyouwang.net/9751.html" target="_blank" rel="noreferrer">这个</a>能用</p><p><a href="https://openwrt.org/inbox/toh/xiaomi/r4ac?s%5B%5D=xiaomi&amp;s%5B%5D=4a" target="_blank" rel="noreferrer">官网在这里</a></p><p>注意4a百兆 和千兆的刷的包是不一样的</p><h1 id="总结一下官网的介绍" tabindex="-1">总结一下官网的介绍: <a class="header-anchor" href="#总结一下官网的介绍" aria-label="Permalink to &quot;总结一下官网的介绍:&quot;">​</a></h1><h2 id="官方提供有2个包" tabindex="-1">官方提供有2个包: <a class="header-anchor" href="#官方提供有2个包" aria-label="Permalink to &quot;官方提供有2个包:&quot;">​</a></h2><ul><li><p>4A百兆用这个</p><p><a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt76x8/openwrt-ramips-mt76x8-xiaomi_mi-router-4a-100m-intl-initramfs-kernel.bin" target="_blank" rel="noreferrer">xiaomi_mi-router-4a-100m-intl-initramfs-kernel.bin</a></p><p><a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt76x8/openwrt-ramips-mt76x8-xiaomi_mi-router-4a-100m-intl-squashfs-sysupgrade.bin" target="_blank" rel="noreferrer">xiaomi_mi-router-4a-100m-intl-squashfs-sysupgrade.bin</a></p></li><li><p>注意我们用<strong>squashfs-sysupgrade.bin</strong>这个包刷, 不同包刷的方式不一样, 这里不对initramfs-kernel.bin包的刷入方法做介绍</p></li><li><p>4A千兆有千兆的包不要用百兆的包</p></li></ul><h2 id="刷机流程" tabindex="-1">刷机流程: <a class="header-anchor" href="#刷机流程" aria-label="Permalink to &quot;刷机流程:&quot;">​</a></h2><ul><li><p>注意看路由的固件版本号, 此教程仅适用于3.xx</p></li><li><p>Use <a href="https://github.com/acecilia/OpenWRTInvasion" target="_blank" rel="noreferrer">OpenWRTInvasion</a> 获取root权限的shell</p></li><li><p><strong>cat /proc/mtd</strong>检查是否有一个分区叫 <strong>mtd6: 00200000 00010000 “overlay”</strong>, 只有有该分区才能刷</p></li><li><p>openwrt-<strong>sysupgrade</strong>.bin 下载到路由器的 <code>/tmp</code> 目录</p></li><li><p>刷刚刚下载的包 with <code>mtd -r write &lt;image&gt; OS1</code></p></li></ul><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li>看路由器的版本, 推荐更新到最新版本再刷, 因为<a href="https://forum.openwrt.org/t/xiaomi-mi-router-4a-mir4ac-100m-international-version-bricked-and-cant-unbrick/134430" target="_blank" rel="noreferrer">R4AC with v3.0.10 bricked when downgrading to v3.0.5</a></li><li>无需安装Breed, 否则会造成bootloop</li></ul><h1 id="对路由器进行root" tabindex="-1"><a href="https://github.com/acecilia/OpenWRTInvasion" target="_blank" rel="noreferrer">对路由器进行root</a> <a class="header-anchor" href="#对路由器进行root" aria-label="Permalink to &quot;[对路由器进行root](https://github.com/acecilia/OpenWRTInvasion)&quot;">​</a></h1><h2 id="安装python" tabindex="-1">安装python <a class="header-anchor" href="#安装python" aria-label="Permalink to &quot;安装python&quot;">​</a></h2><h2 id="下载代码" tabindex="-1">下载代码 <a class="header-anchor" href="#下载代码" aria-label="Permalink to &quot;下载代码&quot;">​</a></h2><p><a href="https://github.com/acecilia/OpenWRTInvasion" target="_blank" rel="noreferrer">github地址</a></p><h2 id="运行代码" tabindex="-1">运行代码 <a class="header-anchor" href="#运行代码" aria-label="Permalink to &quot;运行代码&quot;">​</a></h2><p>怎么跑<a href="https://github.com/acecilia/OpenWRTInvasion" target="_blank" rel="noreferrer">github地址</a>这里已经写的很详细了, 还有动图:</p><ul><li>登录路由器获得stock</li><li>安装python依赖</li><li>运行脚本</li><li>在脚本中输入路由器的Ip和stock3</li><li>使用telnet进行测试</li></ul><h1 id="下载openwrt" tabindex="-1">下载openwrt <a class="header-anchor" href="#下载openwrt" aria-label="Permalink to &quot;下载openwrt&quot;">​</a></h1><p><a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt76x8/openwrt-ramips-mt76x8-xiaomi_mi-router-4a-100m-intl-squashfs-sysupgrade.bin" target="_blank" rel="noreferrer">xiaomi_mi-router-4a-100m-intl-squashfs-sysupgrade.bin</a></p><p>在上一步 <a href="https://github.com/acecilia/OpenWRTInvasion" target="_blank" rel="noreferrer">OpenWRTInvasion</a>已经开启了FTP服务器</p><blockquote><p>The script also starts an ftp server at port 21, so you can get access to the filesystem using a GUI (for example <a href="https://cyberduck.io/" target="_blank" rel="noreferrer">cyberduck</a>).</p></blockquote><p>然后用任意ftp的客户端, 把openwrt传到服务器的 tmp 目录下面</p><h1 id="刷入openwrt" tabindex="-1">刷入openwrt <a class="header-anchor" href="#刷入openwrt" aria-label="Permalink to &quot;刷入openwrt&quot;">​</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># &lt;image&gt; 指的是完整的路径 如 /tmp/openwrt-21.02.3-ramips-mt76x8-xiaomi_mi-router-4a-100m-squashfs-sysupgrade.bin</span></span>
<span class="line"><span>mtd -r write &lt;image&gt; OS1</span></span></code></pre></div><p>参考网址给的是 -e 猜测是erser擦除的意思 我相信官网 用 -r 应该是recover的意思</p>`,26)]))}const u=e(i,[["render",n]]);export{d as __pageData,u as default};
